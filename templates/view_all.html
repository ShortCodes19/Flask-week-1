{% extends 'base.html' %} {% block title %}View All{% endblock %} {% block content %}
<div
  class="w-full min-h-screen pt-12 px-5 flex flex-col bg-gradient-to-br pb-12 from-gray-700 to-gray-600">
  <div class="flex justify-between">
    <h2 class="text-2xl font-bold text-gray-900 drop-shadow-2xl mt-7">All Posts</h2>
    <form action="{{ url_for('view_all') }}" method="get">
      <input
        type="text"
        name="search"
        placeholder="Search"
        value="{{ search or '' }}"
        class="mb-4 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <button
        class="p-2 bg-blue-500 text-center text-white rounded-sm mt-5 mb-2 hover:bg-blue-600 cursor-pointer">
        Search
      </button>
      {% if search %}
      <a
        href="{{ url_for('view_all') }}"
        class="p-2 bg-blue-500 text-center text-white rounded-sm mt-5 mb-2 hover:bg-blue-600">
        Clear
      </a>
      {% endif %}
    </form>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% if posts %} {% for post in posts %}
    <div class="bg-white p-5 rounded-lg shadow-md">
      <h3 class="text-xl font-semibold mb-3">{{ post.title }}</h3>
      <p class="text-gray-700 mb-4 truncate">{{ post.content }}</p>

      <div>
        <a
          href="{{ url_for('view', id=post.id) }}"
          class="block p-2 bg-blue-500 text-center text-white rounded-sm mt-5 mb-2 hover:bg-blue-600">
          View
        </a>
      </div>
      <div class="flex justify-between">
        <small class="text-gray-600 block">Posted {{ post.relative_time }}</small>
        {% if post.updated_relative %}
        <small class="text-gray-600 block">Updated {{ post.updated_relative }}</small>
        {% endif %}
      </div>
    </div>
    {% endfor %} {% else %}
    <p class="text-gray-900 font-semibold">No posts available.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
